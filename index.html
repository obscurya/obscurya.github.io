<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>obscurya</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    html,
    body,
    .container {
      width: 100%;
      height: 100%;
    }

    body {
      position: relative;
      font: 12px sans-serif;
      overflow: hidden;
    }

    .code {
      position: absolute;
      top: -5px;
      right: -5px;
      bottom: -5px;
      left: -5px;
      word-break: break-all;
      opacity: 0.15;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 30px;
      color: #fff;
      background: #000;
    }

    .container img {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <div class="code"></div>
  <div class="container">
    <img src="img.jpg">
  </div>

  <script>
    function random(min, max) {
      return Math.floor(Math.random() * (max + 1 - min) + min);
    }

    function generatePastelColor() {
      return `hsl(${360 * Math.random()}, ${25 + 70 * Math.random()}%, ${85 + 10 * Math.random()}%)`;
    }

    var spans = [];
    var str = `(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){},47:function(e,t,n){e.exports=n(83)},53:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(8),c=n.n(i),l=(n(53),n(2)),r=n(3),o=n(5),m=n(4),d=n(6),u=n(85),p=n(86),h=n(87),v=n(46),E=n(14),b=n(16),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).setActiveElement=function(){n.props.setActiveElement(n.props.node,[n.props.blockIndex])},n.state={titleParent:"",titleNode:"",subnodes:[]},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=e.node,n=t.content.substr(0),a=[],s=0;s<t.nodes.length;s++)a.push({titleParent:"",node:t.nodes[s]});var i=document.createElement("html");i.innerHTML=n;for(var c=i.textContent.split(/\{|\}/g),l="",r=0;r<c.length;r++)if(-1!==c[r].indexOf("$")){var o=c[r].split("$");l+=o[0];for(var m=Number(o[1]),d=0;d<t.nodes.length;d++)if(t.nodes[d].id===m){a[d].titleParent=o[0];break}}else l+=c[r];var u=l;u.length>64&&(u=u.substr(0,64)+"...");var p=t.isBasic?u:e.titleParent;this.setState({node:t,titleParent:p,titleNode:u,subnodes:a})}},{key:"renderNode",value:function(){var e=this;return this.props.node.isBasic?s.a.createElement("li",{className:"base-node"},s.a.createElement("div",{className:"base-node-title"+this.props.checkActiveElement(this.props.node),onClick:this.setActiveElement},this.state.titleParent),this.state.subnodes.length>0&&s.a.createElement("ul",{className:"nodes-list"},this.state.subnodes.map(function(n,a){return s.a.createElement(t,{key:a,blockIndex:e.props.blockIndex,node:n.node,titleParent:n.titleParent,setActiveElement:e.props.setActiveElement,checkActiveElement:e.props.checkActiveElement})}))):s.a.createElement("li",{className:"node"},s.a.createElement("div",{className:"node-title"+this.props.checkActiveElement(this.props.node),onClick:this.setActiveElement.bind(this)},s.a.createElement("div",{className:"node-title-left"},this.props.node.id));`;

    for (var i = 0; i < 20; i++) {
      var tmp = str.slice(0);
      var chunks = [];

      while (tmp.length > 0) {
        var index = random(0, tmp.length - 1);

        chunks.push(tmp.substring(0, index));

        var l = tmp.substring(index);

        if (l.length < 20) {
          chunks.push(l);

          tmp = '';
        } else {
          tmp = tmp.substring(index);
        }
      }

      for (var j = 0; j < chunks.length; j++) {
        var span = document.createElement('span');

        span.textContent = chunks[j];
        span.style.color = generatePastelColor();

        document.querySelector('.code').appendChild(span);
        spans.push(span);
      }
    }

    setInterval(() => {
      for (var i = 0; i < spans.length; i++) {
        spans[i].style.color = generatePastelColor();
      }
    }, 1000 / 10);

    document.ontouchmove = (e) => {
      e.preventDefault();
    }

    document.ontouchend = (e) => {
      e.preventDefault();
    }
  </script>
</body>
</html>
